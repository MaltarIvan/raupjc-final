@using PictureGallery.Models.Main;
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model MainVM
@{
    ViewData["Title"] = "Index";
    Layout = "~/Pages/_Layout.cshtml";
}

<head>
    <link rel="stylesheet" href="~/css/index.css" asp-append-version="true" />
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet"/>
</head>

<h2 id="header">Hello @Model.UserProfile.UserName</h2>
<div class="container">
    <div class="row">
        <div class="col-sm-2" style="padding:5px">
            <img src="data:image/png;base64, @Model.UserProfile.ProfilePicture.Data" width="100" height="100" style="margin:10px" /> <br />
            <p style="font-size:24px; margin-top:10px">@Model.UserProfile.UserName</p>
            <a class="btn btn-primary" asp-controller="ManageProfile" asp-action="Index" style="color:white; margin:10px"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span>Manage your pictures</a>
            <a asp-action="All" class="btn btn-primary" style="margin:10px">Show Newest!</a><br/>
            <a asp-action="Top" class="btn btn-primary" style="margin:10px">Show Top!</a><br />
            <a asp-action="Favorites" class="btn btn-primary" style="margin:10px">Show Favorites!</a>
            <a asp-action="FollowingPictures" class="btn btn-primary" style="margin:10px">Pictures You Follow!</a>
            <a asp-action="HotPictures" class="btn btn-primary" style="margin:10px">Hot!</a>
        </div>
        <div id="pictures_container" class="col-sm-8 cont" style="padding:5px;">
            <h3>@Model.PictureGroup</h3>
        @foreach (var item in Model.PicturesToPresent)
         {
            @Html.Partial("~/Views/Shared/PicturePartial.cshtml", item)
         }
        </div>
        <div class="col-sm-1 cont">
            <h5>All Users</h5>
            @foreach (var item in Model.UsersVM)
            {
                @Html.Partial("PartialPresentUser", item)
            }
        </div>
        <div class="col-sm-1 cont">
            <h5>Following</h5>
            @foreach (var item in Model.FollowingUsersVM)
            {
                @Html.Partial("PartialPresentUser", item)
            }
        </div>
    </div>
</div>

@section Scripts
    {
        <script src="~/js/jquery.nicescroll.js"></script>
        <script src="~/js/index.js"></script>
    }